<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LumiCHAT - Appointment</title>
  <link rel="stylesheet" href="css/student_appointment.css" />
</head>
<body>
  <div class="app-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo-section">
        <img src="icons/logo.png" alt="Logo" class="logo" />
        <h3>LumiCHAT</h3>
      </div>
      <nav class="nav-links">
        <a href="student_chat.html"><img src="icons/Home.png" alt="Home" /> Home</a>
        <a href="student_profile.html"><img src="icons/Profile.png" alt="Profile" /> Profile</a>
        <a href="student_chat-history.html"><img src="icons/chat_history.png" alt="Chat History" /> Chat History</a>
        <a href="student_appointment.html" class="active"><img src="icons/appointment.png" alt="Appointment" /> Appointment</a>
        <a href="student_settings.html"><img src="icons/settings.png" alt="Settings" /> Settings</a>
        <a href="student_greeting.html" class="new-chat"><img src="icons/plus.png" alt="New Chat" /> New Chat</a>
      </nav>
      <div class="logout">
        <a href="index.html">Logout</a>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="appointment-area">
    <header class="chat-header">
        <h3>Appointment</h3>
        <span>User</span>
    </header>

    <div class="appointment-wrapper">
        <div class="appointment-box">
          <div class="appointment-header">
            <div>
              <h2>Book Appointment</h2>
              <p>Schedule a session with one of our counselors</p>
            </div>
            <a href="student_appointment_history.php" class="view-btn">View Appointment</a>
          </div>

          <form action="submit_appointment.php" method="POST" class="appointment-form">
            <div class="form-row">
              <div class="form-group">
                <label for="counselor">Select a counselor and time slot <span class="required">*</span></label>
                 <select id="counselor" name="counselor_id" required>
                  <option value="">Select a counselor</option>
                </select>
                <small class="helper-text">Available time slots will appear after selecting a counselor</small>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="date">Choose a preferred date <span class="required">*</span></label>
                <input type="date" id="date" name="appointment_date" required />
              </div>

              <div class="form-group">
                <label for="time">Choose a preferred time <span class="required">*</span></label>
                <select id="time" name="appointment_time" required>
                  <option value="">Select time</option>
                </select>
              </div>
            </div>

            <!-- ✅ CONSENT SECTION WITH ERROR MESSAGE -->
            <div class="consent">
              <input type="checkbox" id="consent-checkbox">
              <label for="consent-checkbox">
                I understand that my information will be handled according to LumiCHAT’s privacy policy
              </label>
            </div>
            <span id="checkbox-error" style="color: red; font-size: 12px; display: none; margin-top: 6px;">
              You must agree to the privacy policy before continuing.
            </span>

            <div class="btn-row">
              <button type="button" class="cancel-btn">Cancel</button>
              <button type="submit" class="confirm-btn">Confirm Appointment</button>
            </div>
          </form>
        </div>
      </div>
    </main>
  </div>

  <!-- ✅ JAVASCRIPT -->
  <script>
    const confirmBtn = document.querySelector('.confirm-btn');
    const consentCheckbox = document.getElementById('consent-checkbox');
    const checkboxError = document.getElementById('checkbox-error');

    confirmBtn.addEventListener('click', function (e) {
      if (!consentCheckbox.checked) {
        e.preventDefault();
        checkboxError.style.display = 'block';
      } else {
        checkboxError.style.display = 'none';
        alert('Appointment submitted successfully!');
        // You can optionally add actual form submission logic here
      }
    });
  </script>
  <script src="js/student_appointment.js"></script>
</body>
</html>
